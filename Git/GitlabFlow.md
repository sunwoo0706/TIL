### Gitlab Flow

포트폴리오 사이트를 만들며 `master`에다가 바로 커밋하고 싶지는 않아서 `git flow`를 쓰다가 들게 된 생각입니다.

`git flow`를 쓰면 기능이 적용되기 까지 두개의 PR을 날려야 한다. `feature -> develop -> master(main)` 협업에서는 너무나도 유용한 flow일지 몰라도 개인 프로젝트에서는 달랐습니다. 쓰이는 비용이 너무 불필요하다고 생각이 들어 찾던중에
`Gitlab Flow`를 알게 되었습니다.

`Gitlab`이 복잡성을 줄이고 개발 프로세스의 효율을 높이고자 개발한 `Gitlab Flow`는 Git 워크플로우에 이슈트래킹을 연동함으로써 프로세스를 단순화하고 혼란을 줄입니다.

`Gitlab Flow`가 `Git Flow`의 어떤 문제점을 해결하고자 하는지를 살펴본다면 `Gitlab Flow`를 이해하기 쉬울겁니다. `Git Flow에는 두가지의 주요 포인트가 있는데, 두 가지 모두 불필요한 브랜치간의 변환 작업을 수반합니다.

`Git Flow`는 개발자가 마스터 브랜치보다 개발용 브랜치를 사용하도록 강제합니다. 그런데 많은 git 기반 툴(Github)은 마스터 브랜치가 디폴트로 되어 있어서 브랜치 간 변환 작업의 양이 아주 많아지게 됩니다.

또 다른 비효율은 `hotfix`를 브랜치에 업데이트하는 작업인데, 이 작업은 지속 배포 구조를 갖춘 대부분의 조직들에게는 필요 없는 작업입니다. 저도 프로젝트를 하면서 `hotfix`를 써본적이 거의 없었습니다.

`GitLab Flow`는 `Git Flow`에서 자주 있는 릴리즈, 태깅, 머지 (merge) 측면에서의 비효율성을 제거합니다.

`GitLab Flow`를 간단히 소개하면 아래와 같습니다.

- 모든 기능과 변경 점은 마스터 브랜치로 향함
- ‘운영용’ 브랜치와 ‘안정화된' 브랜치에는 이를 허용함
- 버그 픽스, 핫 픽스 패치들은 우선 마스터 브랜치에서 선별적으로 수용됨

기본적으로 따라야 할 규칙

`GitLab Flow` 전체를 따르고 싶지 않으시다면 다음의 규칙은 숙지하시는 것이 좋습니다. GitLab 의 CEO인 Sid Sijbrandij는 최대한의 효율을 위해 지켜야 할 11가지 규칙을 설명했었습니다. 본 규칙들을 전부 읽어보는게 가장 좋겠지만, 테스트 중심적으로

- 모든 커밋을 테스트하십시오 : 모든 사항이 마스터 브랜치로 반영 (merge) 되기를 기다리지 않는 것이 좋습니다. 문제점을 최대한 빨리 찾아내기 위해서는 커밋되는 순간 테스트하는 것이 좋습니다.
- 모든 종류의 테스트를 거치십시오 : 병렬 테스트라고 할지라도 모든 종류의 테스트를 하는 것이 좋습니다.
- 코드 리뷰 후에는 마스터 브랜치로 merge 하십시오 : 기다릴 이유가 있나요? “한꺼번에 테스트하지 마시고, 매 순간 테스트하시는 것을 권합니다. 여러분들께서 직접 문제점을 찾아낼 가능성이 크고, 동료들의 도움을 받을 수도 있습니다.”라고 Sid가 말하네요.
