## Jest

Jest의 기본적인 사용 방법은 다음과 같습니다.

```js
test("테스트 설명", () => {
  expect("검증 대상").toXxx("기대 결과값");
});
```

Jest는 기본적으로 `test.js`로 끝나거나, `__test__`디렉토리 안에 있는 파일들은 모두 테스트 파일로 인식합니다. 만약 특정 파일이나 디렉토리 경로만을 실행하고 싶은 경우에는 test 스크립트 커맨드 뒤에 파일명이나 디렉토리 경로를 추가해주면 됩니다.

### 자주 사용되는 Matcher

위의 기본적인 사용 방법에서 `.toXxx`부분의 함수를 `Matcher`라고 합니다.

> Matcher 함수가 불만족하는지를 테스트할 때는 앞에 not을 붙여주면 됩니다.

#### toBe(), toEqual()

`toBe()` 는 값이 아닌 객체가 참조하고 있는것을 판단한다. 예를 들어 `obj.toBe(obj)`는 테스트에 성공하지만 `{ name: sunwoo }.toBe({ name: sunwoo })`는 테스트에 실패한다. 이와 달리 `toEqual` 은 값이 같아도 테스트에 성공한다.

#### toBeTruthy(), toBeFalsy()

Js는 숫자 1이 `true`로 간주되고, 숫자 0이 `false`로 간주되는 것과 같이 모든 타입의 값들을 `true` 아니면 `false` 간주하는 규칙이 있습니다. `toBeTruthy()`는 검증 대상이 이 규칙에 따라 `true`로 간주되면 테스트 통과이고, `toBeFalsy()`는 반대로 `false`로 간주되는 경우 테스트가 통과됩니다.

#### toHaveLength(), toContain()

배열의 경우에는 배열이 길이를 체크하거나 특정 원소가 존재 여부를 테스트하는 경우가 많습니다. `toHaveLength()` 배열의 길이를 체크할 때 쓰이고, `toContain()` 특정 원소가 배열에 들어있는지를 테스트할 때 쓰입니다.

#### toMatch()

문자열의 경우에는 단순히 toBe()를 사용해서 문자열이 정확히 일치하는지를 체크하지만, 종종 정규식 기반의 테스트가 필요할 떄가 있는데 toMatch() 함수를 사용하면됩니다.

#### toThrow()

마지막으로 예외 발생 여부를 테스트해야할 때는 toThrow() 함수를 사용하면 됩니다. toThrow() 함수는 인자도 받는데 문자열을 넘기면 예외 메세지를 비교하고 정규식을 넘기면 정규식 체크를 해줍니다.

그리고 `toThrow()` 함수를 사용할 때 하기 쉬운 실수가 있습니다. 반드시 expect() 함수에 넘기는 검증 대상을 함수로 한 번 감싸줘야 합니다. 그렇지 않으면 예외 발생 여부를 체크하는 것이 아니라, 테스트 실행 도중 테스트를 위해 예외를 실행시키니 그 테스트는 항상 실패하게 됩니다.
