## 반응성

Svelte의 특징 3가지 중 가장 실감이 되는 부분일것이다.
이 반응성이란 호출해서 어떤 액션을 발생하는 것이 아니고, 미리 어떤 값을 선언해두고, 선언된 값에 의해 상태가 변경되면 함수 등의 호출 없이 바로 특정 작동하게 하는 기능을 말한다.
물론 react나 vue에도 이런 기능이 없는 것은 아니지만, svelte만큼 간단하게 구현되지는 않는다.

```svelte
<script>
let count = 0
$: doubled = count * 2

$: if(count >= 10) {
	alert('카운트가 10을 넘었습니다. ')
	count = 9
}

$: {
	console.log( count )
	console.log( doubled )
}

function handleClick() {
	count += 1
}

</script>

<button on:click={handleClick}>
	클릭수 { count } {count === 1 ? 'time' : 'times'}
</button>

<p>{count} 두배는 {doubled} <p/>
```

위의 코드에서 주의 깊게 볼 부분은 바로 `$:` 기호로 시작하는 코드들이다. `svelte`에서는 변수 선언 혹은 조건절 등에 `$:` 를 작성해 주는 것으로 반응성 코드가 된다. 이부분이 매우 흥미로은 부분이다.

위 코드에서 실제로 이벤트를 일으키는 것은 `count`라는 `state`를 증가시키는 `handleClick()` 가 전부이다.

하지만 실제로 이 count가 증가하게 되면 상황에 따라서 다음의 3가지 이벤트가 발생하게 된다.

1. doubled 라는 count \* 2 변수 증가
2. count가 10을 넘기면 alert 발생
3. console.log 에 count, doubled 출력

물론 이것은 javascript영역에서 발생하는 이벤트 들이다. 실제 template영역에서는 count가 1이상일 때 time를 times로 변경하는 이벤트가 하나 더 있다.

3가지 이벤트 모두 count를 바라보고 있다가, count값이 변화되거나, 특정 조건에 맞을 때 발생하게 된다.

미리 선언된 state 즉 상태 값이 일종의 센서 역할을 하고 있다고 봐도 될 것이다.

이중에 흥미로운 점은 조건문 즉 if문 앞에 `$:` 를 입력하면 조건문도 선언형 함수처럼 사용된다는 점과, `$:{ 소스코드 }` 처럼 특정 특정 영역을 반응성 상태로 만들어 쓸 수 있다는 것이다. 다시한번 말하지만, 타겟 `state`만 정하고 바라보게만 설정하면, 개발자가 따로 호출할 필요없이 `state`의 변화와 조건만으로 호출이 일어난다는 것이다.

> Svelte는 이 기능 하나만으로도 충분히 공부해볼만한 프레임워크라고 생각한다.
